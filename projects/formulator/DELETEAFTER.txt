Add-Migration InitialCreate
(default project set to: Formulator.Infrastructure)
(from root dir of project in package manager console)

---

feature roadmap:
* quizes (auto answer and scoring - pending review for complex word answers)
* sending emails
* support for updating responses
* REST API layer (to allow for form admins to fetch form responses easily - maybe even websockets to recieve responses in real time?)

---

dbdiagram.io plan
// Use DBML to define your database structure
// Docs: https://dbml.dbdiagram.io/docs

Table forms {
  id integer [primary key]

  title varchar [not null]
  description varchar

  creator_id integer [not null]

  // form options
  requires_auth bool [not null, default: "false"]
  submission_edits bool [not null, default: "false"]

  created_at timestamp [not null, default: "now()"]
  updated_at timestamp
}

Table form_questions {
  question_id integer [primary key]
  form_id integer [note: "FK: on delete cascade"]

  text text [not null]
  description text

  // question options
  required bool [default: "false"]
}

Table form_submissions {
  submission_id integer [primary key]
  form_id integer [note: "FK: on delete cascade"]

  submitted_by varchar [note: "optional: email"]
}

Table submission_responses {
  submission_id integer [primary key, note: "FK: on delete cascade"]
  question_id integer  [primary key, note: "FK: on delete cascade"]
  
  value varchar [not null]
}

Ref: "forms"."id" < "form_questions"."form_id"
Ref: "forms"."id" < "form_submissions"."form_id"

Ref: "submission_responses"."submission_id" > "form_submissions"."submission_id"
Ref: "submission_responses"."question_id" - "form_questions"."question_id"